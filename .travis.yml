language: java
sudo: false
jdk:
- oraclejdk8
notifications:
  email:
  - philippe.granet@gmail.com
branches: 
only:
- master
cache:
  directories:
  - "$HOME/.m2"
  
script: "mvn cobertura:cobertura -B"

after_success:
- bash <(curl -s https://codecov.io/bash)
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/pubring.gpg.enc
  -out $GPG_DIR/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/secring.gpg.enc
  -out $GPG_DIR/secring.gpg -d
- "$GPG_DIR/publish.sh"
env:
  global:
  - GPG_DIR="`pwd`/deploy"
  - secure: PughDfl3usvB295Pn+GNEhAfWrs51SpNsTeQGjUQWxbzjygKOV39aFtkJfE8uPR4z1Rf4WCcvOBFpHBhgSzOH+RPv8U01f5baqWXrAPP+V2/XwmaTNH0XpR1ipeDl+huu4v9WnRrbOlG40i7HP49sCPl88SWxUIoZJUFXR1z3wj/D13YK5UW8SswYQsuqf11ze6buynl7i2/c+5W3sjeKVqOtoIkw+291JtNce/07y7DD2dt5/f3ScKWQ/s+OODHlImo3NxFeYjNYcvcKO1wpcA6O+Oiu2dSa/94EmytA1JkHnhmf2UJhVokmwLZKwGifSQM+sEc2wEY+jdUjZESpF789YtXOGvf1R2PO80xehDjW5cYihn03Zw7AWx99g0v+sAUF1qsPfff07/7dOO/pEWgij7KqazOxgmGN28ofHIrMOHho+QW/VaxpYBFyWYYRuEMwBNiAazJyQOtCihg6vthGfUHOdQdx9TifcilStiLnrt3JU4N+LSNtpfU2nRNPSPK0gF6jIaIvn1exjvxFgO3wDk98fL981mDILIOorOf6kJeTufuJJZemtIuveC8awLD/IX0BIh/DqikBp+/WAgDckKjNc9etLwRkdN3lWWtht66Qj1i2h/P/5ylfejsofimju+xPlG2xgbNhoZFb5rK4cmBBAIIVltTtxnm+xg=
  - secure: irIkiB5l9Q4x5h628jTmf0ZV6JGkNWwamQdRpiBzkZgqiIHuV1pYVUNFeIBiQ39iwY5Est0fjfaZ5DSy96VmnA6ZfHhcYngN9BnRRLLmARLcpTq9YVF9zrQtKjFFb/xVpAmKKsnFaczJQch4tBvZkSkP8O82gQzU9nMU7yCR1S80Pau8vNu3slRY1fV6l9IS2Qr96CIU8B3GAynR7AgVfSNrerjK2D32JBobdltd1Njhg0wqFA1lIn/MKLo4JZteYoU869aRPZliXVXYnK8TixvFQIPVUrAV3rpYrIzVgPeI5tTVgIDRBXt6JsuJy1tFT0JbxexdAzbrwxAWls7dg+hOtrW49ppdC2LZ0PhC6XHxyWB1RVX4g9DmjV3WattLscpESTRZXTKQ6wmm8eXhgLvbw6n8xr+xMRmjlp30y3/0HVwMqdXNOFqvotAOTEHyogld8GX6dACMC5ifbE5/WcKnoyA93Rzx0kUkWLR+jqNtN+711lNhVxbhzdXSKIOC2+WiOoXD3kGg0UU469IgMd9QZGHs1S924rC6Ff+FbROpm9GEfMdjyqGKpmATeJLTyjieacwvHviSktzN+eEC1HFvULYsDwUmAdtQC3Hsuxfo1AZo8g8pOypcu5sVwKkai3FyXgdbE9/s1ZeEBleHtmF9clFDfVtX1SDiryjyO4w=
  - secure: rCW+pYQ5P25uuWDjm9ekgJhX9M++hCZn53SaYo0xw9y2YUHYm3Ux70AK2eMAWmD8ng4tj7JIRI0gkxJ3yrrta5BQzmIQ0ixu//rKTnjqQ0Vj9lgQptNvO7wVqzILj9dfBQCrwtKqskncjNht+n7EDiEFYj94JL6UGeJDE1CGCYTRNcTgc3zx9YYz6hzI2Ae9iJRtWXwwb5KuKK9FNC5xXP0MSuqGS3fWWF7DDpc2gSMMyzq75ibBr7rfH8WD4aOCSw59JKCy6+Kp0aZPwef2n1/rW9g/Ok+A5Crhua1sOGCBVBPqmIqldI6sLPcBRhN+8hlHd1ejR8HQiASFIlgTIn9cHBKUJ9txp4Oa99OVzpcC7MTfKqDONDg3paQwAFkE1TCsniewR86Qj8k0eReTgk3uk5AbPLnffMM7xsjxONAOO+1u0rLZlltUxKbBHJJgtqtnzdccxktq8ndF2067z6QVuc+SYnhWYXhxQ3PesQytfrGZ/EoUAcXbdyDiCK082uOM0ficsoFOlxEZjGmUnuRt4fMmpo2GtKDN8hnLXamSt6LAYqbMVsaKjSHxNNtVGY9/y2rzrR1QQvskQgkoCjIZw7/2Y3TsG1gRYs9oGlB9BGOB70MB32dSli2HyNJ/fE6fSJfZYDD+mFCGjQfym69Gl0YvURMaehRhcwGt3dU=
  - secure: qMPwp8ipq2a9NHKbqzJ6Ca6Av958L8kRT8gp9aF5sJ11wXyAzBFdnQbcuZ+bMFRFo54arjvDJSz9Cqk6TExB+89RthU3LYUHQ7Y1b2DxYioqajMVrcno9yB7v6DMF7EbFoYv/xYDW46i30fGXS6EKpjEox7YgIsB/Q1zEkDn3Y3b/KXQJuR3SYRLQW9ZJX2jx0Aw4F/Qx9NNE5D3xYO8o2fTAZpQlMcYf0sZ1CH/tVz6kOmltiBmNyDAfI4V7OEpKwEs6mTabCaM11k59Mxn7GEQuLSG/N4ARzDUyS68jWDwbdaV9rLZZTDXqEcvYII53x5plCmG31Lo0WX2p/APDzeyh7v76PPHgxrrf4L1EKJH6SWizN2N/4g003Yrwc+vcc5QsdrVCgArO4YLZf7dboZLu2gFgXKDN02hhlZgP9jvuRJYrR++4Bo+mW5IaYTFXxTumjKsW65iFxJ4kAhIqQ8gz+JLC4n4K829avugpkszL2k2e9iIojtKfT+t7YMgIqDj6m5HCS7MjbJo1qDcagJXqp+DdRMA4SjS0KUVuZdCJ9aFLAhDdEJGsrcSwjoaIq2lwS0b57Zs9FD+TtUqErBNlw+hy8tdOoidt5oM/q2CzBcNrG7VQ24CyT1nNwItbX1xbLMDx/G0ze7EEFqS1Nq90Umm0p6FHRHvSsyT/ZI=
  - secure: IDkfb8h6+ZTGMpIEcvdm01w4nGVVs86KpKSYX4+tyUMNxS/jqahrjLJyeYCiuTTnwio6xwnh5xMzCfL2WbVTpMeCPi8OylB31mH7a36lil9juMiJRqb0NbPrEfTGxN7C5UAy77qTOWfrY/4fba1R09xSSLlvWdLCYHJQ2pSpicT+GfKy7qinMu5KX0DO0rg2cg1BhTwRgdr2GOkKBXohgbtU8bhQje1MOisHTFIeTHx78awrnQl1FHrZNg2aEAJiFHRmDysdPMGwFkSAIqbI687bnpfad5kj+ACpdBlB64sVNB2GJfWpN/tnzfejZARP6xb6y3X69vF01icOSv7hyeoVnQ5b18jFNiy2ePHxVP4kMuK5sQ8gBXzX0e3TZB+AhGTDByuIQtvTFYzbjEeYshwT59gcTU4RKDJVJmHWS/xhgV+jwJyoEV7ZYBFzRL58f4QojDPHxBK7oQ6T5QGbTB/90FPcJ88jYLpzocZfVvYNmcHjKBmWdEr9/8uzR5ObYppwzCh0Qtc0KvLW7AFMDw72r2t2jea/aF8C6qN70/VXcEkfbnh2+//0GKXE+akXWJIPVyOdoYhgT/aLqWOD8gZPV55KFelCH67xFFWIsMeXl5LiijpT5YvHVoUiimSjiUYpkBTx6jXNjY3vl3U9oMAikRekmEM5P9hB5U174yw=
